/*  lab4 answers  */

/*  joinqry.sql  */
/*  A SAMPLE JOIN OPERATION  */

SELECT DEPT,DEPTNAME,ID,NAME,SALARY
FROM STAFF,ORG
WHERE DEPT=DEPTNUMB AND DEPT = 20;


/*  salrang.sql  */
/*   find rows based upon a between and a join of tables */
SELECT ID,NAME,JOB,SALARY,DEPT,DIVISION
FROM STAFF,ORG
WHERE SALARY BETWEEN 15000 AND 30000 AND
DEPT = DEPTNUMB
ORDER BY DIVISION,JOB


/*  badinsrt.sql  */
/*  INSERT INTO APPLICANT WHERE NEW TEMPID IS IN THE STAFF TABLE */

INSERT INTO APPLICANT
SELECT 40, 'RICHARD','103 RIVA RIDGE',18,'GIVE RAISE'
FROM DUAL WHERE 40 NOT IN
(SELECT ID FROM STAFF);


/*  goodinsrt.sql  */
/*  INSERT INTO APPLICANT WHERE NEW TEMPID IS NOT IN STAFF TABLE */

INSERT INTO APPLICANT
SELECT 400, 'RICHARD','103 RIVA RIDGE',18,'GIVE RAISE'
FROM DUAL WHERE 400 NOT IN
(SELECT ID FROM STAFF);

/*  complxup.sql  */
/*  COMPLEX UPDATE OF STAFF USING A SUBQUERY */
/*  A PROJECT TABLE HAS TO BE CREATED FOR THIS TO WORK  */

update staff
set comm = comm+500
where comm >
(select bonus
from project
where staff.id = project.empno);

/*  cmplxins.sql /*
/*  COMPLEX INSERT USING A INSERT AND SELECT CLAUSE */

INSERT INTO STAFF (ID,NAME,JOB,SALARY)
SELECT TEMPID,NAME,'MGR',60000.00 FROM APPLICANT
WHERE TEMPID = 777;

/*  cmplxdel.sql
/*  COMPLEX DELETE FROM APPLICANT TABLE USING A SUBQUERY */

DELETE FROM APPLICANT
WHERE TEMPID IN
(SELECT ID FROM STAFF,APPLICANT
WHERE ID = TEMPID);

