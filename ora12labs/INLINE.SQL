SELECT S2.DEPT,NAME,JOB,SALARY, AVERAGE, (SELECT AVG(SALARY) FROM STAFF) OVERALL 
FROM STAFF S2, 
(SELECT DEPT, AVG(SALARY) AVERAGE
  FROM STAFF 
GROUP BY DEPT) S1
 WHERE S2.JOB='MGR' AND S1.DEPT = S2.DEPT AND AVERAGE >
(SELECT AVG(SALARY) FROM STAFF)
/
